# Story 6.1: Best Practices Data Model & Storage

## Status

Draft

## Story

**As an** engineer,
**I want** a data model for storing optimal posting time recommendations,
**so that** the system can provide intelligent time suggestions based on research.

## Acceptance Criteria

1. A `posting_time_recommendations` table is defined in the Convex schema with fields: `platform`, `dayOfWeek`, `hourRanges` (array of time windows), `engagementScore`, `source` (e.g., "industry research", "user data").
2. The table is seeded with research-based best practices for Twitter and LinkedIn (e.g., "Twitter: Tue-Thu 9-11am EST", "LinkedIn: Wed 10am-12pm EST").
3. The schema supports multiple recommendations per platform/day combination with different engagement scores.
4. Recommendations are timezone-agnostic (stored in UTC, displayed in user's local timezone).
5. An index on `["platform", "dayOfWeek"]` enables efficient lookups.
6. Admin/seed functions populate the table with initial best practice data.

## Tasks / Subtasks

- [ ] **Task 1: Define posting_time_recommendations table** (AC: 1)
- [ ] **Task 2: Create platform/dayOfWeek index** (AC: 5)
- [ ] **Task 3: Research and compile best practices data** (AC: 2)
- [ ] **Task 4: Create seed function for recommendations** (AC: 6)
- [ ] **Task 5: Implement timezone handling (UTC storage)** (AC: 4)
- [ ] **Task 6: Write tests for data model** (AC: 1-6)

## Dev Notes

### Architecture Context

First story in Epic 6 (Intelligent Posting Time Recommendations). Establishes foundation for time suggestion system.

## Change Log

| Date       | Version | Description                          | Author     |
| :--------- | :------ | :----------------------------------- | :--------- |
| 2025-11-01 | 1.0     | Initial draft created from Epic 6.1. | Sarah (PO) |

## Dev Agent Record

To be populated by Dev Agent during implementation.

## QA Results

To be populated by QA Agent after implementation review.
