# Story 6.5: Custom User Preference Overrides

## Status

Draft

## Story

**As a** content creator,
**I want** to set my own preferred posting times,
**so that** recommendations align with my personal schedule and audience.

## Acceptance Criteria

1. A "Posting Preferences" settings page is added to the application.
2. Users can define their own "preferred posting windows" for each platform (e.g., "Twitter: Mon-Fri 7-9am, Sat 10am").
3. Preferred windows are stored in a `user_preferences` table with fields: `clerkUserId`, `platform`, `dayOfWeek`, `customTimeRanges`.
4. When custom preferences exist, the time suggestion algorithm prioritizes user-defined windows over research-based recommendations.
5. Users can reset preferences to default (research-based) recommendations at any time.
6. The settings page displays both custom preferences and default recommendations side-by-side for comparison.
7. Custom preferences are reflected immediately in the scheduler picker's recommended times.

## Tasks / Subtasks

- [ ] **Task 1: Create Posting Preferences settings page** (AC: 1)
- [ ] **Task 2: Define user_preferences table** (AC: 3)
- [ ] **Task 3: Build preference editor UI** (AC: 2)
- [ ] **Task 4: Update algorithm to use custom preferences** (AC: 4)
- [ ] **Task 5: Implement reset to defaults** (AC: 5)
- [ ] **Task 6: Show custom vs default comparison** (AC: 6)
- [ ] **Task 7: Verify immediate reflection in scheduler** (AC: 7)
- [ ] **Task 8: Write tests for custom preferences** (AC: 1-7)

## Dev Notes

Final story in Epic 6, enables user customization of time recommendations.

## Change Log

| Date       | Version | Description                          | Author     |
| :--------- | :------ | :----------------------------------- | :--------- |
| 2025-11-01 | 1.0     | Initial draft created from Epic 6.5. | Sarah (PO) |

## Dev Agent Record

To be populated by Dev Agent during implementation.

## QA Results

To be populated by QA Agent after implementation review.
